{"ast":null,"code":"import { throwServerError } from '../utils/throwServerError.js';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction parseAndCheckHttpResponse(operations) {\n  return function (response) {\n    return response.text().then(function (bodyText) {\n      try {\n        return JSON.parse(bodyText);\n      } catch (err) {\n        var parseError = err;\n        parseError.name = 'ServerParseError';\n        parseError.response = response;\n        parseError.statusCode = response.status;\n        parseError.bodyText = bodyText;\n        throw parseError;\n      }\n    }).then(function (result) {\n      if (response.status >= 300) {\n        throwServerError(response, result, \"Response not successful: Received status code \" + response.status);\n      }\n      if (!Array.isArray(result) && !hasOwnProperty.call(result, 'data') && !hasOwnProperty.call(result, 'errors')) {\n        throwServerError(response, result, \"Server response was missing for query '\" + (Array.isArray(operations) ? operations.map(function (op) {\n          return op.operationName;\n        }) : operations.operationName) + \"'.\");\n      }\n      return result;\n    });\n  };\n}\nexport { parseAndCheckHttpResponse };","map":{"version":3,"mappings":";AACA,IAAIA,cAAc,GAAGC,MAAM,CAACC,SAAS,CAACF,cAAc;AAC7C,SAASG,yBAAyB,CAACC,UAAU,EAAE;EAClD,OAAO,UAAUC,QAAQ,EAAE;IAAE,OAAOA,QAAQ,CACvCC,IAAI,EAAE,CACNC,IAAI,CAAC,UAAUC,QAAQ,EAAE;MAC1B,IAAI;QACA,OAAOC,IAAI,CAACC,KAAK,CAACF,QAAQ,CAAC;MACvC,CAAS,CACD,OAAOG,GAAG,EAAE;QACR,IAAIC,UAAU,GAAGD,GAAG;QACpBC,UAAU,CAACC,IAAI,GAAG,kBAAkB;QACpCD,UAAU,CAACP,QAAQ,GAAGA,QAAQ;QAC9BO,UAAU,CAACE,UAAU,GAAGT,QAAQ,CAACU,MAAM;QACvCH,UAAU,CAACJ,QAAQ,GAAGA,QAAQ;QAC9B,MAAMI,UAAU;MAC5B;IACA,CAAK,CAAC,CACGL,IAAI,CAAC,UAAUS,MAAM,EAAE;MACxB,IAAIX,QAAQ,CAACU,MAAM,IAAI,GAAG,EAAE;QACxBE,gBAAgB,CAACZ,QAAQ,EAAEW,MAAM,EAAE,gDAAgD,GAAGX,QAAQ,CAACU,MAAM,CAAC;MAClH;MACQ,IAAI,CAACG,KAAK,CAACC,OAAO,CAACH,MAAM,CAAC,IACtB,CAAChB,cAAc,CAACoB,IAAI,CAACJ,MAAM,EAAE,MAAM,CAAC,IACpC,CAAChB,cAAc,CAACoB,IAAI,CAACJ,MAAM,EAAE,QAAQ,CAAC,EAAE;QACxCC,gBAAgB,CAACZ,QAAQ,EAAEW,MAAM,EAAE,yCAAyC,IAAIE,KAAK,CAACC,OAAO,CAACf,UAAU,CAAC,GACnGA,UAAU,CAACiB,GAAG,CAAC,UAAUC,EAAE,EAAE;UAAE,OAAOA,EAAE,CAACC,aAAa;QAAC,CAAE,CAAC,GAC1DnB,UAAU,CAACmB,aAAa,CAAC,GAAG,IAAI,CAAC;MACnD;MACQ,OAAOP,MAAM;IACrB,CAAK,CAAC;EAAC,CAAE;AACT","names":["hasOwnProperty","Object","prototype","parseAndCheckHttpResponse","operations","response","text","then","bodyText","JSON","parse","err","parseError","name","statusCode","status","result","throwServerError","Array","isArray","call","map","op","operationName"],"sources":["parseAndCheckHttpResponse.js"],"sourcesContent":["import { throwServerError } from '../utils/throwServerError';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport function parseAndCheckHttpResponse(operations) {\n    return function (response) { return response\n        .text()\n        .then(function (bodyText) {\n        try {\n            return JSON.parse(bodyText);\n        }\n        catch (err) {\n            var parseError = err;\n            parseError.name = 'ServerParseError';\n            parseError.response = response;\n            parseError.statusCode = response.status;\n            parseError.bodyText = bodyText;\n            throw parseError;\n        }\n    })\n        .then(function (result) {\n        if (response.status >= 300) {\n            throwServerError(response, result, \"Response not successful: Received status code \" + response.status);\n        }\n        if (!Array.isArray(result) &&\n            !hasOwnProperty.call(result, 'data') &&\n            !hasOwnProperty.call(result, 'errors')) {\n            throwServerError(response, result, \"Server response was missing for query '\" + (Array.isArray(operations)\n                ? operations.map(function (op) { return op.operationName; })\n                : operations.operationName) + \"'.\");\n        }\n        return result;\n    }); };\n}\n//# sourceMappingURL=parseAndCheckHttpResponse.js.map"]},"metadata":{},"sourceType":"module"}